<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com  https://fonts.gstatic.com ; script-src 'self' 'unsafe-inline';"
    />
    <title>Plantarium</title>

    <!-- CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/font-awesome.min.css" />
    <link rel="stylesheet" href="css/style.css" />

    <!-- Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Barlow:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div id="app">
      <!-- Loading Screen -->
      <div id="loading-screen" class="loading-screen">
        <div class="loading-content">
          <lottie-player
            src="lottie/plant_loading.json"
            background="transparent"
            speed="0.8"
            style="width: 90px; height: 90px"
            loop
            autoplay
          >
          </lottie-player>
          <p class="loading-text">loading...</p>
        </div>
      </div>

      <!-- Auth Wrapper -->
      <div id="auth-wrapper" style="display: none">
        <!-- Login/Register will be dynamically loaded here -->
      </div>

      <!-- Main App -->
      <div id="main-app" style="display: none">
        <!-- Background Circle -->
        <div class="background-circle"></div>

        <!-- Header -->
        <div class="app-header">
          <div class="header-logo">
            <img src="img/plant-logo.png" alt="Logo" />
            <span class="app-title">Plantarium</span>
          </div>
          <span id="page-title" class="page-title"></span>
        </div>

        <!-- Main Content -->
        <div id="main-content" class="main-content">
          <!-- Dynamic content will be loaded here -->
        </div>

        <!-- Bottom Navigation -->
        <div class="bottom-nav" id="bottom-nav">
          <div class="nav-item active" data-page="home">
            <i class="fa fa-home"></i>
            <span>Home</span>
          </div>
          <div class="nav-item" data-page="bookmark">
            <i class="fa fa-bookmark-o"></i>
            <span>Bookmark</span>
          </div>
          <div class="nav-item" data-page="disease">
            <img src="img/virus.png" class="nav-icon-img" />
            <span>Disease</span>
          </div>
          <div class="nav-item" data-page="search">
            <i class="fa fa-search"></i>
            <span>Search</span>
          </div>
          <div class="nav-item" data-page="profile">
            <i class="fa fa-user"></i>
            <span>Profile</span>
          </div>
        </div>
      </div>

      <!-- Alert Modal -->
      <div class="modal fade" id="alertModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered modal-sm">
          <div class="modal-content">
            <div class="modal-body text-center">
              <div id="alert-animation"></div>
              <h5 id="alert-title" class="mt-3"></h5>
              <p id="alert-message"></p>
              <button
                type="button"
                class="btn btn-success"
                data-dismiss="modal"
              >
                Close
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script src="cordova.js"></script>
    <script src="js/lib/jquery.min.js"></script>
    <script src="js/lib/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    //or
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script src="js/lib/lottie-player.js"></script>

    <!-- Services -->
    <script src="js/services/storage.service.js"></script>
    <script src="js/services/supabase.service.js"></script>
    <script src="js/services/api.service.js"></script>

    <!-- Controllers -->
    <script src="js/controllers/auth.controller.js"></script>
    <script src="js/controllers/login.controller.js"></script>
    <script src="js/controllers/main.controller.js"></script>
    <script src="js/controllers/db.controller.js"></script>
    <script src="js/controllers/plantdetail.controller.js"></script>
    <script src="js/controllers/profile.controller.js"></script>
    <script src="js/controllers/search.controller.js"></script>

    <!-- Views -->
    <script src="js/views/auth.view.js"></script>
    <script src="js/views/home.view.js"></script>
    <script src="js/views/bookmark.view.js"></script>
    <script src="js/views/disease.view.js"></script>
    <script src="js/views/search.view.js"></script>
    <script src="js/views/profile.view.js"></script>
    <script src="js/views/plantdetail.view.js"></script>

    <!-- Components -->
    <script src="js/components/navbar.component.js"></script>
    <script src="js/components/plantcard.component.js"></script>
    <script src="js/components/diseasecard.component.js"></script>
    <script src="js/components/loading.component.js"></script>

    <!-- Main App -->
    <script src="js/app.js"></script>
  </body>
</html>
